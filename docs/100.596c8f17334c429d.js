"use strict";(self.webpackChunkBikeLife=self.webpackChunkBikeLife||[]).push([[100],{2100:(A,p,c)=>{c.r(p),c.d(p,{AdminModule:()=>T});var u=c(6814),m=c(2236),o=c(5879),b=c(5861),a=c(6223),Z=c(4035),s=c(1175);function f(r,d){if(1&r){const t=o.EpF();o.TgZ(0,"tr")(1,"th",32),o._uU(2,"1"),o.qZA(),o.TgZ(3,"td"),o._UZ(4,"img",33),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td")(14,"button",34),o.NdJ("click",function(){const i=o.CHM(t).$implicit,l=o.oxw();return o.KtG(l.mostrarEditar(i))}),o.TgZ(15,"mat-icon"),o._uU(16,"edit"),o.qZA()()(),o.TgZ(17,"td")(18,"button",35),o.NdJ("click",function(){const i=o.CHM(t).$implicit,l=o.oxw();return o.KtG(l.mostrarBorrar(i))}),o.TgZ(19,"mat-icon"),o._uU(20,"delete"),o.qZA()()()()}if(2&r){const t=d.$implicit;o.xp6(4),o.s9C("src",t.imagen,o.LSH),o.s9C("alt",t.alt),o.xp6(2),o.Oqu(t.nombre),o.xp6(2),o.Oqu(t.precio),o.xp6(2),o.Oqu(t.descripcion),o.xp6(2),o.Oqu(t.categoria)}}function _(r,d){if(1&r){const t=o.EpF();o.TgZ(0,"div",36)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h1",8),o._uU(5,"Edite el siguiente producto"),o.qZA(),o._UZ(6,"button",9),o.qZA(),o.TgZ(7,"div",10)(8,"div",11)(9,"label",22),o._uU(10,"Ingrese el nombre del producto:"),o.qZA(),o._UZ(11,"input",37),o.qZA(),o.TgZ(12,"div",11)(13,"label",22),o._uU(14,"Ingrese descripci\xf3n del producto:"),o.qZA(),o._UZ(15,"input",38),o.qZA(),o.TgZ(16,"div",11)(17,"label",22),o._uU(18,"Ingrese el precio:"),o.qZA(),o._UZ(19,"input",39),o.qZA(),o.TgZ(20,"div",11)(21,"label",22),o._uU(22,"Seleccione una categor\xeda:"),o.qZA(),o.TgZ(23,"select",40)(24,"option",17),o._uU(25,"Elija una opci\xf3n"),o.qZA(),o.TgZ(26,"option",41),o._uU(27,"Futbol"),o.qZA(),o.TgZ(28,"option",42),o._uU(29,"Voley"),o.qZA(),o.TgZ(30,"option",43),o._uU(31,"Basquet"),o.qZA(),o.TgZ(32,"option",19),o._uU(33,"indumentaria"),o.qZA()()(),o.TgZ(34,"div",21)(35,"label",22),o._uU(36,"Ingrese una imagen:"),o.qZA(),o.TgZ(37,"label",23),o._uU(38,"Subir Imagen"),o.qZA(),o.TgZ(39,"input",24),o.NdJ("change",function(n){o.CHM(t);const i=o.oxw();return o.KtG(i.cargarImagen(n))}),o.qZA(),o.TgZ(40,"span",25),o._uU(41),o.qZA()(),o.TgZ(42,"div",11)(43,"label",22),o._uU(44,"Ingrese texto alternativo:"),o.qZA(),o._UZ(45,"input",44),o.qZA()(),o.TgZ(46,"div",27)(47,"button",28),o.NdJ("click",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.editarProducto())}),o._uU(48,"Guardar cambios"),o.qZA(),o.TgZ(49,"button",29),o._uU(50,"Cerrar"),o.qZA()()()()()}if(2&r){const t=d.$implicit,e=o.oxw();o.xp6(7),o.Q6J("formGroup",e.producto),o.xp6(4),o.s9C("placeholder",t.nombre),o.xp6(4),o.s9C("placeholder",t.descripcion),o.xp6(4),o.s9C("placeholder",t.precio),o.xp6(22),o.Oqu(e.nombreImagen),o.xp6(4),o.s9C("placeholder",t.alt)}}function h(r,d){if(1&r){const t=o.EpF();o.TgZ(0,"div",45)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h1",8),o._uU(5,"\xbfEst\xe1 seguro de eliminar el producto?"),o.qZA(),o._UZ(6,"button",9),o.qZA(),o.TgZ(7,"div",46),o._uU(8),o._UZ(9,"img",33),o.qZA(),o.TgZ(10,"div",27)(11,"button",47),o.NdJ("click",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.borrarProducto())}),o._uU(12,"Eliminar"),o.qZA(),o.TgZ(13,"button",29),o._uU(14,"Cerrar"),o.qZA()()()()()}if(2&r){const t=o.oxw();o.xp6(8),o.hij(" ",t.productoSeleccionado.nombre," "),o.xp6(1),o.s9C("src",t.productoSeleccionado.imagen,o.LSH),o.s9C("alt",t.productoSeleccionado.alt)}}let v=(()=>{class r{constructor(t){this.servicioCrud=t,this.coleccionProductos=[],this.modalVisibleProducto=!1,this.producto=new a.cw({nombre:new a.NI("",a.kI.required),precio:new a.NI(0,a.kI.required),descripcion:new a.NI("",a.kI.required),categoria:new a.NI("",a.kI.required),alt:new a.NI("",a.kI.required)})}ngOnInit(){this.servicioCrud.obtenerProducto().subscribe(t=>{this.coleccionProductos=t})}agregarProducto(){var t=this;return(0,b.Z)(function*(){if(t.producto.valid){let e={idProducto:"",nombre:t.producto.value.nombre,descripcion:t.producto.value.descripcion,precio:t.producto.value.precio,categoria:t.producto.value.categoria,imagen:"",alt:t.producto.value.alt};yield t.servicioCrud.subirImagen(t.nombreImagen,t.imagen,"productos").then(n=>{t.servicioCrud.obtenerUrlImagen(n).then(i=>{t.servicioCrud.crearProducto(e,i).then(l=>{alert("Ha agregado un nuevo producto con \xe9xito :)"),t.producto.reset()}).catch(l=>{alert("Hubo un problema al agregar un nuevo producto :("),t.producto.reset()})})})}})()}mostrarBorrar(t){this.modalVisibleProducto=!0,this.productoSeleccionado=t}borrarProducto(){this.servicioCrud.eliminarProducto(this.productoSeleccionado.idProducto,this.productoSeleccionado.imagen).then(t=>{alert("El producto se ha eliminado correctamente.")}).catch(t=>{alert("No se ha podido eliminar el producto \n"+t)})}mostrarEditar(t){this.productoSeleccionado=t,this.producto.setValue({nombre:t.nombre,precio:t.precio,descripcion:t.descripcion,categoria:t.categoria,alt:t.alt})}editarProducto(){let t={idProducto:this.productoSeleccionado.idProducto,nombre:this.producto.value.nombre,precio:this.producto.value.precio,descripcion:this.producto.value.descripcion,categoria:this.producto.value.categoria,imagen:this.productoSeleccionado.imagen,alt:this.producto.value.alt};this.imagen?this.servicioCrud.subirImagen(this.nombreImagen,this.imagen,"productos").then(e=>{this.servicioCrud.obtenerUrlImagen(e).then(n=>{t.imagen=n,this.actualizarProducto(t),this.producto.reset()}).catch(n=>{alert("Hubo un problema al subir la imagen :( \n"+n),this.producto.reset()})}):this.actualizarProducto(t)}actualizarProducto(t){this.servicioCrud.modificarProducto(this.productoSeleccionado.idProducto,t).then(e=>{alert("El producto fue modificado con \xe9xito.")}).catch(e=>{alert("Hubo un problema al modificar el producto.")})}cargarImagen(t){let e=t.target.files[0],n=new FileReader;null!=e&&(n.readAsDataURL(e),n.onloadend=()=>{let i=n.result;null!=i&&(this.nombreImagen=e.name,this.imagen=i.toString())})}static#o=this.\u0275fac=function(e){return new(e||r)(o.Y36(Z.I))};static#t=this.\u0275cmp=o.Xpm({type:r,selectors:[["app-table"]],decls:72,vars:5,consts:[[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["type","button","data-bs-toggle","modal","data-bs-target","#agregarProducto",1,"btn","btn-outline-primary"],["id","agregarProducto","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"formGroup"],[1,"mb-3"],[1,"form-label",2,"color","var(--text-color)"],["type","text","formControlName","nombre","placeholder","Ej.: Medias de chanchitos",1,"form-control"],["type","text","formControlName","descripcion","placeholder","Ej.: Medias hechas de  algod\xf3n",1,"form-control"],["type","number","formControlName","precio","placeholder","...",1,"form-control"],["formControlName","categoria","aria-label","Default select example",1,"form-control","form-select"],["disabled","","selected",""],["value","alimentacion"],["value","indumentaria"],["value","juguetes"],[1,"mb-3","input-file-container"],[1,"form-label"],["for","file-upload",1,"custom-file-upload"],["id","file-upload","type","file","accept","image/*",3,"change"],[1,"file-name"],["type","text","formControlName","alt","placeholder","Ingrese un texto alternativo",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-success",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-light"],["class","modal fade","id","editarProducto","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngFor","ngForOf"],["class","modal fade","id","eliminarProducto","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["scope","row"],["width","100px",3,"src","alt"],["id","btn-edit","title","Editar","type","button","data-bs-toggle","modal","data-bs-target","#editarProducto",1,"btn","btn-outline-warning",3,"click"],["id","btn-delete","title","Eliminar","type","button","data-bs-toggle","modal","data-bs-target","#eliminarProducto",1,"btn","btn-outline-danger",3,"click"],["id","editarProducto","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","formControlName","nombre",1,"form-control",3,"placeholder"],["type","text","formControlName","descripcion",1,"form-control",3,"placeholder"],["type","number","formControlName","precio",1,"form-control",3,"placeholder"],["formControlName","categoria","aria-label","Default select example",1,"form-control","form-select","styled-select"],["value","futbol"],["value","voley"],["value","basquet"],["type","text","formControlName","alt",1,"form-control",3,"placeholder"],["id","eliminarProducto","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-body"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-danger",3,"click"]],template:function(e,n){1&e&&(o.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),o._uU(4,"#"),o.qZA(),o.TgZ(5,"th",1),o._uU(6,"Imagen"),o.qZA(),o.TgZ(7,"th",1),o._uU(8,"Nombre"),o.qZA(),o.TgZ(9,"th",1),o._uU(10,"Precio"),o.qZA(),o.TgZ(11,"th",1),o._uU(12,"Descripci\xf3n"),o.qZA(),o.TgZ(13,"th",1),o._uU(14,"Categor\xeda"),o.qZA(),o.TgZ(15,"th",1),o._uU(16,"Acciones"),o.qZA()()(),o.TgZ(17,"tbody"),o.YNc(18,f,21,6,"tr",2),o.qZA()(),o.TgZ(19,"button",3),o._uU(20," Agregar un nuevo producto\n"),o.qZA(),o.TgZ(21,"div",4)(22,"div",5)(23,"div",6)(24,"div",7)(25,"h1",8),o._uU(26,"Ingrese un nuevo producto"),o.qZA(),o._UZ(27,"button",9),o.qZA(),o.TgZ(28,"div",10)(29,"div",11)(30,"label",12),o._uU(31,"Ingrese el nombre del producto:"),o.qZA(),o._UZ(32,"input",13),o.qZA(),o.TgZ(33,"div",11)(34,"label",12),o._uU(35,"Ingrese descripci\xf3n del producto:"),o.qZA(),o._UZ(36,"input",14),o.qZA(),o.TgZ(37,"div",11)(38,"label",12),o._uU(39,"Ingrese el precio:"),o.qZA(),o._UZ(40,"input",15),o.qZA(),o.TgZ(41,"div",11)(42,"label",12),o._uU(43,"Seleccione una categor\xeda:"),o.qZA(),o.TgZ(44,"select",16)(45,"option",17),o._uU(46,"Elija una opci\xf3n"),o.qZA(),o.TgZ(47,"option",18),o._uU(48,"Alimentaci\xf3n"),o.qZA(),o.TgZ(49,"option",19),o._uU(50,"Indumentaria"),o.qZA(),o.TgZ(51,"option",20),o._uU(52,"Juguete"),o.qZA()()(),o.TgZ(53,"div",21)(54,"label",22),o._uU(55,"Ingrese una imagen:"),o.qZA(),o.TgZ(56,"label",23),o._uU(57,"Subir Imagen"),o.qZA(),o.TgZ(58,"input",24),o.NdJ("change",function(l){return n.cargarImagen(l)}),o.qZA(),o.TgZ(59,"span",25),o._uU(60),o.qZA()(),o.TgZ(61,"div",11)(62,"label",12),o._uU(63,"Ingrese texto alternativo:"),o.qZA(),o._UZ(64,"input",26),o.qZA()(),o.TgZ(65,"div",27)(66,"button",28),o.NdJ("click",function(){return n.agregarProducto()}),o._uU(67,"Guardar"),o.qZA(),o.TgZ(68,"button",29),o._uU(69,"Cerrar"),o.qZA()()()()(),o.YNc(70,_,51,6,"div",30),o.YNc(71,h,15,3,"div",31)),2&e&&(o.xp6(18),o.Q6J("ngForOf",n.coleccionProductos),o.xp6(10),o.Q6J("formGroup",n.producto),o.xp6(32),o.Oqu(n.nombreImagen),o.xp6(10),o.Q6J("ngForOf",n.coleccionProductos),o.xp6(1),o.Q6J("ngIf",n.modalVisibleProducto))},dependencies:[u.sg,u.O5,s.Hw,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.sg,a.u],styles:[".table[_ngcontent-%COMP%]{background-color:var(--primary-color)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .3s}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--primary-color)}.btn-outline-warning[_ngcontent-%COMP%]{border-color:#ffc107;color:#ffc107}.modal-body[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff}.btn-outline-warning[_ngcontent-%COMP%]:hover{background-color:#ffc107;color:var(--text-color)}.btn-outline-danger[_ngcontent-%COMP%]{border-color:#dc3545;color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:var(--text-color)}.btn-outline-primary[_ngcontent-%COMP%]{border-color:#007bff;color:var(--input-color)}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#007bff;color:var(--text-color)}.modal-header[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--text-color)}.modal-footer[_ngcontent-%COMP%]{background-color:var(--primary-color);text-align:center;justify-content:center}.input-file-container[_ngcontent-%COMP%]{background-color:var(--accent-color);padding:10px;border-radius:5px;display:flex;align-items:center;justify-content:space-between;color:var(--text-color)}.input-file-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:var(--text-color)}.input-file-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.custom-file-upload[_ngcontent-%COMP%]{border:2px solid var(--input-color);background-color:transparent;color:var(--accent-color);padding:5px 15px;cursor:pointer;border-radius:4px;transition:background-color .3s,color .3s}.custom-file-upload[_ngcontent-%COMP%]:hover{background-color:var(--text-title-color);color:#fff}.file-name[_ngcontent-%COMP%]{margin-left:10px;color:var(--text-color)}.material-style-select[_ngcontent-%COMP%]{font-size:16px;padding:8px 16px;border-radius:4px;background-color:#fff;border:1px solid rgba(0,0,0,.42);color:#000000de;box-shadow:0 2px 4px #0003;transition:border-color .2s ease-in-out,box-shadow .2s ease-in-out}.material-style-select[_ngcontent-%COMP%]:focus{border-color:#3f51b5;box-shadow:0 0 4px #3f51b5;outline:none}.material-style-select[_ngcontent-%COMP%]   option[disabled][_ngcontent-%COMP%]{color:#0000008a}.material-style-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px}.form-label[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin-bottom:4px;display:block}.material-style-select[_ngcontent-%COMP%]{height:40px}.material-style-select[_ngcontent-%COMP%]{border-radius:4px}"]})}return r})();const C=[{path:"admin",component:(()=>{class r{static#o=this.\u0275fac=function(e){return new(e||r)};static#t=this.\u0275cmp=o.Xpm({type:r,selectors:[["app-admin"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Administrador"),o.qZA(),o.TgZ(4,"div",2),o._UZ(5,"app-table"),o.qZA()()())},dependencies:[v],styles:[".container[_ngcontent-%COMP%]{display:flex;padding:1rem;text-align:center;justify-content:space-around}"]})}return r})()}];let x=(()=>{class r{static#o=this.\u0275fac=function(e){return new(e||r)};static#t=this.\u0275mod=o.oAB({type:r});static#e=this.\u0275inj=o.cJS({imports:[m.Bz.forChild(C),m.Bz]})}return r})();var g=c(8525);let T=(()=>{class r{static#o=this.\u0275fac=function(e){return new(e||r)};static#t=this.\u0275mod=o.oAB({type:r});static#e=this.\u0275inj=o.cJS({imports:[u.ez,x,s.Ps,a.u5,a.UX,g.LD,s.Ps,a.u5,a.UX,g.LD]})}return r})()}}]);